/* Optimized print stylesheet for payslips (compact, multi-page friendly) */
@media print {
  :root { --primary: #111827; --muted: #6b7280; }

  /* Slightly tighter page margins to save space */
  @page { size: A4; margin: 12mm 12mm; }

  html, body {
    background: #fff !important;
    color: var(--primary) !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 12px !important;
    line-height: 1.15 !important;
  }

  /* Hide UI controls explicitly */
  .no-print, button, input, select, textarea, a[href]:not(.print-link), .print\:hidden { display: none !important; }

  /* Remove decorative chrome */
  .shadow-md, .shadow-sm, .shadow, .hover\:shadow-md { box-shadow: none !important; }
  .rounded-lg { border-radius: 0 !important; }

  /* Root container: use full width and no extra padding */
  #payslip-print-root { width: 100% !important; padding: 0 !important; margin: 0 auto !important; box-shadow: none !important; }

  /* Header: smaller, compact */
  .payslip-header { display: flex !important; align-items: center !important; justify-content: space-between !important; padding: 6px 0 10px 0 !important; border-bottom: 1px solid #e5e7eb !important; }
  .payslip-header img { max-width: 110px !important; height: auto !important; }
  .payslip-header h2 { font-size: 16px !important; margin: 0; }
  .payslip-header .company-meta { text-align: left !important; font-size: 11px !important; color: var(--muted) !important; }

  /* Compact typographic tuning */
  p, span, div { color: var(--primary) !important; }
  h1,h2,h3 { color: var(--primary) !important; margin: 0 0 4px 0; }

  /* Reduce spacing around sections to fit more content per page */
  .payslip-section { margin: 8px 0 !important; padding: 0 !important; }
  .payslip-section h2 { font-size: 13px !important; margin-bottom: 6px !important; color: var(--primary) !important; }

  /* Responsive compact grid: allow 2-3 columns depending on space */
  .payslip-grid { display: grid !important; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 8px !important; }
  .payslip-card { border: 1px solid #eaeaea !important; padding: 6px !important; }
  .payslip-card .label { font-size: 9px !important; color: var(--muted) !important; text-transform: uppercase; }
  .payslip-card .value { font-size: 13px !important; font-weight: 700 !important; color: var(--primary) !important; }

  /* Tables: compact rows and repeat header on each page */
  .payslip-table { width: 100% !important; border-collapse: collapse !important; font-size: 12px !important; }
  .payslip-table th, .payslip-table td { border: 1px solid #e5e7eb !important; padding: 6px 6px !important; }
  .payslip-table th { background: #f9fafb !important; text-align: left !important; font-weight: 600 !important; }
  /* Ensure thead is repeated when table is split across pages */
  .payslip-table thead { display: table-header-group !important; }
  .payslip-table tbody { display: table-row-group !important; }
  .payslip-table tr { page-break-inside: avoid !important; break-inside: avoid !important; }

  /* Footer */
  .payslip-footer { margin-top: 12px !important; padding-top: 6px !important; border-top: 1px dashed #e5e7eb !important; font-size: 11px !important; color: var(--muted) !important; }

  /* Avoid page breaks inside important blocks */
  .page-break-avoid, .payslip-card, .payslip-header, .payslip-section { page-break-inside: avoid !important; break-inside: avoid !important; }
  .signature, .signature * { page-break-inside: avoid !important; }

  /* Hyphenation and word wrapping to avoid overflow */
  * { -webkit-hyphens: auto !important; -ms-hyphens: auto !important; hyphens: auto !important; word-break: break-word !important; overflow-wrap: anywhere !important; }

  /* Small helpers for long text fields */
  .break-words { word-break: break-word !important; overflow-wrap: anywhere !important; }

  /* If a large section should start on a fresh page, use this utility */
  .page-break-before { page-break-before: always !important; break-before: page !important; }
}
